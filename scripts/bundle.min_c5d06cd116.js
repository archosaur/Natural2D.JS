!function o(a,s,l){function u(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var r=s[t]={exports:{}};a[t][0].call(r.exports,function(e){return u(a[t][1][e]||e)},r,r.exports,o,a,s,l)}return s[t].exports}for(var c="function"==typeof require&&require,e=0;e<l.length;e++)u(l[e]);return u}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(){o(this,e),this.isLoop=!1}return r(e,[{key:"loopInvoke",value:function(t){var n=this;this.isLoop=!0;!function e(){t(),n.isLoop&&window.requestAnimationFrame(e)}()}},{key:"loopInvokeBySetInternal",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:16.67;setInterval(e,t)}},{key:"stop",value:function(){this.isLoop=!1}}]),e}(),i=function(){function i(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16;o(this,i),this.canvas=e,this.context=e.getContext("2d"),this.world=t,this.world.initializeUI(e),this.internal=n,this.frameManager=new a}return r(i,[{key:"run",value:function(){var e=this;this.start(this.world),this.frameManager.loopInvoke(function(){e.update(e.world,e.context)})}},{key:"stop",value:function(){this.frameManager.stop()}},{key:"start",value:function(e){e.start()}},{key:"update",value:function(e,t){e.view.draw(t),e.update()}}]),i}();n.AnimationBox=i},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.EventArgs=n.EventSystem=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=e("./Exception");function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(){o(this,e),this.strict=!1,this.handlers={}}return i(e,[{key:"addHandler",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(this.strict&&!n||this.registEvent(e),!this.handlers[e])throw new r.Exception("The event is not registed.");return this.handlers[e].push(t),t}},{key:"removeHandler",value:function(e,t){var n=this.handlers[e];if(n&&0<n.length){var i=n.findIndex(function(e){return e===t});0<=i&&n.splice(i,1)}}},{key:"registEvent",value:function(e){this.handlers[e]||(this.handlers[e]=[])}},{key:"registSystemEventByDom0",value:function(e,t,n){var i=this;this.handlers[t]||(this.handlers[t]=[],n&&e&&(e[n]=function(e){i.raiseEvent(t,e)}))}},{key:"registSystemEventByDom2",value:function(e,t,n){var i=this;this.handlers[t]||(this.handlers[t]=[],n&&e&&e.addEventListener(n,function(e){i.raiseEvent(t,e)}))}},{key:"raiseEvent",value:function(e,t){this.handlers[e]&&this.handlers[e].forEach(function(e){e(t)})}}]),e}(),s=function(){function t(e){o(this,t),this.data=e}return i(t,null,[{key:"empty",get:function(){return new t}}]),t}();n.EventSystem=a,n.EventArgs=s},{"./Exception":3}],3:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function e(t){i(this,e),this.message=t},o=function(e){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"The method is not implemented.";return i(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r),t}();n.Exception=r,n.NotImplementedException=o},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PointerInput=n.TouchInput=n.MouseInput=n.InputBase=n.Inputs=void 0;var i=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=e("../../../Fundamental/Vector");function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(e){l(this,t),this.world=e,this.inputList=[]}return r(t,[{key:"launch",value:function(e){var t=this;this.ui=e,this.inputList.forEach(function(e){t.regist(e)})}},{key:"regist",value:function(e){e.regist(this)}},{key:"addInput",value:function(e){this.inputList.push(e)}}]),t}(),c=function(){function e(){l(this,e)}return r(e,[{key:"regist",value:function(e){this.inputs=e}},{key:"registEventFast",value:function(e,t,n,i){var r=this;this.inputs.ui.addEventListener(e,function(e){n&&n(e),r.inputs.world.raiseSelfAndGameVisualsEvent(t,e),i&&i(e)})}}]),e}(),f=function(e){function n(){return l(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,c),r(n,[{key:"regist",value:function(t){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"regist",this).call(this,t),t.mouse||(t.mouse={isPressed:!1,position:new o.Vector2(0,0)}),this.registEventFast("click","onClick"),this.registEventFast("mouseenter","onMouseEnter"),this.registEventFast("mouseleave","onMouseLeave"),this.registEventFast("mousedown","onMouseDown",function(){t.mouse.isPressed=!0}),this.registEventFast("mouseup","onMouseUp",function(){t.mouse.isPressed=!1}),this.registEventFast("mousemove","onMouseMove",function(e){t.mouse.position=new o.Vector2(e.offsetX,e.offsetY)}),window.onmousewheel=document.onmousewheel=function(e){t.world.raiseSelfAndGameVisualsEvent("onMouseWheel",e)}}}]),n}(),h=function(e){function n(){return l(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,c),r(n,[{key:"regist",value:function(t){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"regist",this).call(this,t),t.touch||(t.touch={isTouching:!1,position:new o.Vector2(0,0)}),this.registEventFast("touchStart","onTouchStart",function(){t.touch.isTouching=!0}),this.registEventFast("touchEnd","onTouchEnd",function(){t.touch.isTouching=!1}),this.registEventFast("touchmove","onTouchMove",function(e){e.preventDefault(),t.touch.position=new o.Vector2(e.changedTouches[0].clientX,e.changedTouches[0].clientY)})}}]),n}(),p=function(e){function n(){return l(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,c),r(n,[{key:"regist",value:function(t){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"regist",this).call(this,t),t.pointer||(t.pointer={isPressed:!1,position:new o.Vector2(0,0)}),this.registEventFast("mousedown","onMouseDown",function(){t.pointer.isPressed=!0}),this.registEventFast("mouseup","onMouseUp",function(){t.pointer.isPressed=!1}),this.registEventFast("mousemove","onMouseMove",function(e){t.pointer.position=new o.Vector2(e.offsetX,e.offsetY)}),this.registEventFast("touchStart","onTouchStart",function(){t.pointer.isPressed=!0}),this.registEventFast("touchEnd","onTouchEnd",function(){t.pointer.isPressed=!1}),this.registEventFast("touchmove","onTouchMove",function(e){e.preventDefault(),t.pointer.position=new o.Vector2(e.changedTouches[0].clientX,e.changedTouches[0].clientY)})}}]),n}();n.Inputs=u,n.InputBase=c,n.MouseInput=f,n.TouchInput=h,n.PointerInput=p},{"../../../Fundamental/Vector":19}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Transform=void 0;var i=e("../../../Fundamental/Vector");n.Transform=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.translation=new i.Vector2(0,0),this.scale=new i.Vector2(1,1),this.rotation=0,this.center=new i.Vector2(0,0)}},{"../../../Fundamental/Vector":19}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.GameView=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),s=e("../../../Fundamental/Vector");var r=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.target=e}return i(t,[{key:"beginDraw",value:function(e){var t=this.target.transform.translation,n=this.target.transform.scale,i=this.target.transform.rotation,r=this.target.transform.center,o=t.add(r),a=new s.Vector2(o.x*(1-n.x),o.y*(1-n.y));e.translate(a.x,a.y),e.scale(n.x,n.y),e.translate(o.x,o.y),e.rotate(i),e.translate(-r.x,-r.y),this.beforeDraw(e),this.draw(e),this.afterDraw(e),e.setTransform(1,0,0,1,0,0)}},{key:"beforeDraw",value:function(){}},{key:"draw",value:function(){}},{key:"afterDraw",value:function(){}}]),t}();n.GameView=r},{"../../../Fundamental/Vector":19}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.GameVisual=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=e("../Fundamental/Property"),o=e("../Fundamental/EventSystem");var a=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.transform=new r.Transform,this.world=null,this.bindView(e),this.eventSystem=new o.EventSystem}return i(t,[{key:"start",value:function(){}},{key:"update",value:function(){}},{key:"bindView",value:function(e){(this.view=e)&&(e.target=this)}}]),t}();n.GameVisual=a},{"../Fundamental/EventSystem":2,"../Fundamental/Property":5}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.GameWorld=void 0;var r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=e("../GameObject/GameVisual"),a=e("../Fundamental/Inputs");var i=function(e){function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return n.width=e,n.height=t,n.gameVisuals=[],n.inputs=new a.Inputs(n),n.initialize(),n.createObjects(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,o.GameVisual),r(i,[{key:"initialize",value:function(){}},{key:"initializeUI",value:function(e){this.ui=e,this.inputs.launch(this.ui)}},{key:"createObjects",value:function(){}},{key:"start",value:function(){this.gameVisuals.forEach(function(e){e.start()})}},{key:"update",value:function(){this.gameVisuals.forEach(function(e){e.update()})}},{key:"addVisual",value:function(e){this.gameVisuals.push(e),e.world=this}},{key:"raiseSelfAndGameVisualsEvent",value:function(t,n){this.eventSystem.raiseEvent(t,n),this.gameVisuals.forEach(function(e){e.eventSystem.handlers[t]&&e.eventSystem.handlers[t].forEach(function(e){e(n)})})}}]),i}();n.GameWorld=i},{"../Fundamental/Inputs":4,"../GameObject/GameVisual":7}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.GameWorldView=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=e("../../../Fundamental/Color"),o=e("../GameObject/GameView");var a=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.isClear=!1,t.clearColor=new r.Color,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.GameView),i(n,[{key:"draw",value:function(t){this.isClear&&(t.fillStyle=this.clearColor.getHexValue(),t.beginPath(),t.fillRect(0,0,this.target.width,this.target.height),t.closePath()),this.target.gameVisuals.forEach(function(e){e.view&&e.view.beginDraw(t)})}}]),n}();n.GameWorldView=a},{"../../../Fundamental/Color":17,"../GameObject/GameView":6}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Particle=void 0;var r=e("../../../Fundamental/Color");n.Particle=function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.location=t,this.size=n,this.age=i,this.color=new r.Color(0,0,0,1),this.isDead=!1}},{"../../../Fundamental/Color":17}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DynamicParticle=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=e("../Particle"),a=e("../../../../Fundamental/Vector");var r=function(e){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t,n));return i.velocity=new a.Vector2(0,0),i.acceleration=new a.Vector2(0,0),i.mass=10,i.velocityUpon=Number.POSITIVE_INFINITY,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,o.Particle),i(r,[{key:"applyForce",value:function(e){this.acceleration=this.acceleration.add(e.divide(this.mass))}},{key:"move",value:function(){this.velocity=this.velocity.add(this.acceleration),this.velocity.limitLength(this.velocityUpon),this.location=this.location.add(this.velocity),this.acceleration=new a.Vector2(0,0)}},{key:"moveTo",value:function(e){this.location=e,this.velocity.setLength(0)}}]),r}();n.DynamicParticle=r},{"../../../../Fundamental/Vector":19,"../Particle":10}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SpotParticle=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=e("./DynamicParticle"),a=e("../../../../Fundamental/Random"),s=e("../../../../Fundamental/Vector"),l=e("../../../../Fundamental/Color");var o=function(e){function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,t,n));return i.angleOffset=.03*Math.random()-.015,i.velocityUpon=16,i.random=new a.Random,i.sizeMinimum=1,i.sizeRadius=.995,i.rotateRadius=.01,i.rotateRadiusRandom=.001,i.divideRadius=.03,i.divideSizeRadius=.8,i.divideSizeRadiusEx=.92,i.divideColorIncrementRatio=4,i.getGradientColorIncrement=1,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,r.DynamicParticle),i(o,[{key:"update",value:function(e,t){0<this.age&&(this.age-=1,this.size=this.size*this.sizeRadius,this.velocity=this.velocity.rotate(this.angleOffset*this.rotateRadius),this.velocity=this.velocity.rotate(this.random.nextNorm(-100,100)*this.rotateRadiusRandom),this.color=l.ColorHelper.getGradientColor(this.color,this.getGradientColorIncrement),this.velocityUpon=.38*this.size,this.move(),this.color.a-=.002,this.color.a=Math.max(0,this.color.a)),this.size>this.sizeMinimum?Math.random()<this.divideRadius&&this.divide(e,t):(this.velocity=new s.Vector2(0,0),this.isDead=!0)}},{key:"divide",value:function(e,t){t<2&&(t=2);var n=this.size*this.divideSizeRadius;if(this.size=n,this.age=this.random.nextNorm(0,30),this.angleOffset=.02*Math.random()-.01,1<t)for(var i=2;i<=t;i++){n*=this.divideSizeRadiusEx;var r=new o(this.location,n);r.velocity=this.velocity.rotate(.011*this.random.next(-100,100)).multiply(.618),r.age=this.random.nextNorm(0,40),r.color=l.ColorHelper.getGradientRandomColor(this.color,this.velocity.length()*this.divideColorIncrementRatio),e.push(r)}}}]),o}();n.SpotParticle=o},{"../../../../Fundamental/Color":17,"../../../../Fundamental/Random":18,"../../../../Fundamental/Vector":19,"./DynamicParticle":11}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.WalkerParticle=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=e("./DynamicParticle"),o=e("../../../../Fundamental/Random"),s=e("../../../../Fundamental/Vector");var a=function(e){function a(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t,n));return i.random=new o.Random,i.maxSize=1,i.maxAge=300,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,r.DynamicParticle),i(a,[{key:"update",value:function(e,t){this.age<this.maxAge&&(this.age+=1,this.size=this.maxSize*this.age/this.maxAge,this.mass=this.size*this.size*this.size,this.velocityUpon=this.size/2),this.lastLocation=new s.Vector2(this.location.x,this.location.y);var n=a.StaticGravityRatio||0,i=t.subtract(this.location),r=i.length();if(r<this.size/2)this.location=this.origin.clone(),this.lastLocation=new s.Vector2(this.location.x,this.location.y);else{var o=i.normalize().multiply(this.mass/(r*r)*n);this.applyForce(o)}this.move()}}]),a}();n.WalkerParticle=a},{"../../../../Fundamental/Random":18,"../../../../Fundamental/Vector":19,"./DynamicParticle":11}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ParticlesLineView=n.ParticlesCircleView=n.ParticlesBase=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=e("../../Core/GameObject/GameVisual"),o=e("../../Core/GameObject/GameView");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(e){function n(e){a(this,n);var t=s(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.count=100,t.particles=[],t}return l(n,r.GameVisual),i(n,[{key:"killDead",value:function(){var e=this.particles.length;if(0<e)for(var t=e-1;0<=t;t--){this.particles[t].isDead&&this.particles.splice(t,1)}}}]),n}(),c=function(e){function r(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;a(this,r);var i=s(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return i.isFill=t,i.scale=n,i}return l(r,o.GameView),i(r,[{key:"draw",value:function(e){this.target.stopDraw||(this.isFill?this.drawByFillCircle(e):this.drawByStrokeCircle(e))}},{key:"drawByFillCircle",value:function(e){for(var t=0;t<this.target.particles.length;t++){var n=this.target.particles[t],i=n.location;e.beginPath(),e.arc(i.x,i.y,n.size/2*this.scale,0,2*Math.PI,!1),e.fillStyle=n.color.getRGBAValue(),e.fill()}}},{key:"drawByStrokeCircle",value:function(e){for(var t=0;t<this.target.particles.length;t++){var n=this.target.particles[t],i=n.location;e.beginPath(),e.arc(i.x,i.y,n.size/2*this.scale,0,2*Math.PI,!1),e.strokeStyle=n.color.getRGBAValue(),e.closePath(),e.stroke()}}}]),r}(),f=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,o.GameView),i(t,[{key:"draw",value:function(e){if(!this.target.stopDraw)for(var t=1;t<this.target.particles.length;t++){var n=this.target.particles[t],i=n.location,r=this.target.particles[t-1].location||n.lastLocation;r&&(e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(r.x,r.y),e.lineWidth=n.size,e.strokeStyle=n.color.getRGBAValue(),e.closePath(),e.stroke(),e.beginPath(),e.arc(i.x,i.y,n.size/2,0,2*Math.PI,!1),e.fillStyle=n.color.getRGBAValue(),e.fill())}}}]),t}();n.ParticlesBase=u,n.ParticlesCircleView=c,n.ParticlesLineView=f},{"../../Core/GameObject/GameView":6,"../../Core/GameObject/GameVisual":7}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ParticlesTree=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=e("../../../../Fundamental/Color"),o=e("../../../../Fundamental/Vector"),a=e("../../../../Fundamental/Random"),s=e("../ParticleSystem"),l=e("../Particle/SpotParticle");var u=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.spots=[],t.random=new a.Random,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,s.ParticlesBase),i(n,[{key:"start",value:function(){var e=Math.min(this.world.width,this.world.height),t=e/2500*Math.log10(e),n=new o.Vector2(this.world.width/2,1.45*this.world.height),i=new l.SpotParticle(n);i.velocity=new o.Vector2(0,-16*t),i.size=256*t,i.age=30,i.color=new r.Color(10,10,10),this.spots.push(i),this.particles=this.spots}},{key:"update",value:function(){if(!this.stopDraw)if(6e4<this.spots.length)this.stopDraw=!0;else if(0<this.spots.length){for(var e=0;e<this.spots.length;e++){this.particles[e].update(this.spots,parseInt(this.random.nextNorm(1,3)))}this.killDead(this.spots)}}}]),n}();n.ParticlesTree=u},{"../../../../Fundamental/Color":17,"../../../../Fundamental/Random":18,"../../../../Fundamental/Vector":19,"../Particle/SpotParticle":12,"../ParticleSystem":14}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ParticlesWalker=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),l=e("../../../../Fundamental/Color"),o=e("../../../../Fundamental/Vector"),r=e("../../../../Fundamental/Random"),a=e("../ParticleSystem"),u=e("../Particle/WalkerParticle");var s=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.spots=[],t.random=new r.Random,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.ParticlesBase),i(n,[{key:"start",value:function(){var t=this,n=this.world.width,i=this.world.height;this.walkers=[],this.split=1;var e=new o.Vector2(n/2,.8*i);this.center=e;var r=new u.WalkerParticle(e);r.origin=r.location.clone(),r.maxSize=10,r.color=new l.Color(255,255,255,.1),r.direction=new o.Vector2(0,-this.world.width/10),this.walkers.push(r),this.createNodes(this.walkers,r,9,this.split,1),this.fillColor=new l.Color(0,128,128,.005),this.view.beforeDraw=function(e){e.fillStyle=t.fillColor.getRGBAValue(),e.fillRect(0,0,n,i)},this.view.scale=2,u.WalkerParticle.StaticGravityRatio=5e3,this.eventSystem.addHandler("onMouseWheel",function(e){u.WalkerParticle.StaticGravityRatio+=e.wheelDelta}),this.particles=this.walkers,this.world.inputs.pointer.position=e.clone()}},{key:"update",value:function(){var n=this,i={width:this.world.width,height:this.world.height};this.walkers.forEach(function(e,t){e.update(i,0===t?n.center:e.parent.location)}),.5<Math.random()&&(this.fillColor=l.ColorHelper.getGradientRandomColor(this.fillColor,20)),.8<Math.random()&&(this.split+=1*Math.random()-.5,this.split=Math.max(1,Math.min(12,this.split))),this.modifyNodes(this.walkers[0],this.split,1*this.split/10)}},{key:"createNodes",value:function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1;if(0<n){var o=[-1,1];t.children=[];for(var a=0;a<2;a++){var s=new u.WalkerParticle;s.direction=t.direction.rotate(Math.PI/i*o[a]),s.location=t.location.add(s.direction.multiply(r)),s.origin=s.location.clone(),s.parent=t,s.maxSize=.8*t.maxSize,s.color=new l.Color(255,255,255,.62),t.children.push(s),this.walkers.push(s),this.createNodes(e,s,n-1,i,r)}}}},{key:"modifyNodes",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;if(e.children&&0<e.children.length)for(var i=[-1,1],r=0;r<2;r++){var o=e.children[r];o.direction=e.direction.rotate(Math.PI/t*i[r]),o.origin=e.origin.add(o.direction.multiply(n)),this.modifyNodes(o,t,n)}}}]),n}();n.ParticlesWalker=s},{"../../../../Fundamental/Color":17,"../../../../Fundamental/Random":18,"../../../../Fundamental/Vector":19,"../Particle/WalkerParticle":13,"../ParticleSystem":14}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:255,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:255,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;o(this,r),this.r=e,this.g=t,this.b=n,this.a=i}return i(r,null,[{key:"Black",value:function(){return new r(0,0,0,1)}},{key:"White",value:function(){return new r(255,255,255,1)}}]),i(r,[{key:"clone",value:function(){return new r(this.r,this.g,this.b,this.a)}},{key:"getHexValue",value:function(){var e=parseInt(this.r),t=parseInt(this.g),n=parseInt(this.b),i=t<16?"0":"",r=n<16?"0":"";return"#"+(e<16?"0":"")+e.toString(16)+i+t.toString(16)+r+n.toString(16)}},{key:"getRGBAValue",value:function(){return"rgba("+parseInt(this.r)+","+parseInt(this.g)+","+parseInt(this.b)+","+this.a+")"}}]),r}(),r=function(){function e(){o(this,e)}return i(e,null,[{key:"getGradientColor",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=e.r;n+=t,n=Math.min(255,Math.max(0,n));var i=e.g;i+=t,i=Math.min(255,Math.max(0,i));var r=e.b;return r+=t,r=Math.min(255,Math.max(0,r)),new a(n,i,r,e.a)}},{key:"getGradientRandomColor",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=t/2,i=e.r;i+=Math.random()*t-n,i=Math.min(255,Math.max(0,i));var r=e.g;r+=Math.random()*t-n,r=Math.min(255,Math.max(0,r));var o=e.b;return o+=Math.random()*t-n,o=Math.min(255,Math.max(0,o)),new a(i,r,o,e.a)}}]),e}();n.Color=a,n.ColorHelper=r},{}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"next",value:function(e,t){return parseInt(e+Math.floor(Math.random()*(t-e)))}},{key:"nextNorm",value:function(e,t){for(var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:3,i=0,r=0;r<n;r++)i+=this.next(e,t+1);return i/n}}]),e}();n.Random=r},{}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();var i=function(){function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.x=e,this.y=t}return r(i,[{key:"clone",value:function(){return new i(this.x,this.y)}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"sqrLength",value:function(){return this.x*this.x+this.y*this.y}},{key:"normalize",value:function(){var e=1/this.length();return new i(this.x*e,this.y*e)}},{key:"negate",value:function(){return new i(-this.x,-this.y)}},{key:"add",value:function(e){return new i(this.x+e.x,this.y+e.y)}},{key:"subtract",value:function(e){return new i(this.x-e.x,this.y-e.y)}},{key:"multiply",value:function(e){return new i(this.x*e,this.y*e)}},{key:"divide",value:function(e){var t=1/e;return new i(this.x*t,this.y*t)}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"rotate",value:function(e){var t=Math.sin(e),n=Math.cos(e);return new i(this.x*n-this.y*t,this.y*n+this.x*t)}},{key:"setLength",value:function(e){var t=this.length();0<t&&(this.x=this.x*e/t,this.y=this.y*e/t)}},{key:"limitLength",value:function(e){e<this.length()&&this.setLength(e)}}]),i}();n.Vector2=i},{}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ParticlesTreeWorld=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=e("../Fundamental/Color"),o=e("../Engine/Core/GameWorld/GameWorld"),a=e("../Engine/Core/GameWorld/GameWorldView"),s=e("../Engine/Visual/ParticleSystem/ParticleSystem"),l=e("../Engine/Visual/ParticleSystem/Tree/ParticlesTree");var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.GameWorld),i(t,[{key:"initialize",value:function(){this.view=new a.GameWorldView(this),this.view.clearColor=new r.Color(0,0,0)}},{key:"createObjects",value:function(){var e=new l.ParticlesTree(new s.ParticlesCircleView);this.addVisual(e)}}]),t}();n.ParticlesTreeWorld=u},{"../Engine/Core/GameWorld/GameWorld":8,"../Engine/Core/GameWorld/GameWorldView":9,"../Engine/Visual/ParticleSystem/ParticleSystem":14,"../Engine/Visual/ParticleSystem/Tree/ParticlesTree":15,"../Fundamental/Color":17}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ParticlesWalkerWorld=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=e("../Fundamental/Color"),o=e("../Engine/Core/GameWorld/GameWorld"),a=e("../Engine/Core/GameWorld/GameWorldView"),s=e("../Engine/Visual/ParticleSystem/ParticleSystem"),l=e("../Engine/Visual/ParticleSystem/Walker/ParticlesWalker"),u=e("../Engine/Core/Fundamental/Inputs");var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.GameWorld),i(t,[{key:"initialize",value:function(){this.view=new a.GameWorldView(this),this.view.clearColor=new r.Color(0,0,0),this.inputs.addInput(new u.MouseInput),this.inputs.addInput(new u.PointerInput)}},{key:"createObjects",value:function(){var e=new l.ParticlesWalker(new s.ParticlesCircleView(null,!0,1));this.addVisual(e)}}]),t}();n.ParticlesWalkerWorld=c},{"../Engine/Core/Fundamental/Inputs":4,"../Engine/Core/GameWorld/GameWorld":8,"../Engine/Core/GameWorld/GameWorldView":9,"../Engine/Visual/ParticleSystem/ParticleSystem":14,"../Engine/Visual/ParticleSystem/Walker/ParticlesWalker":16,"../Fundamental/Color":17}],22:[function(e,t,n){"use strict";var i=e("./Engine/Core/AnimationBox"),r=e("./Gallery/ParticlesTreeWorld"),o=e("./Gallery/ParticlesWalkerWorld"),a={AnimationBox:i.AnimationBox,ParticlesTreeWorld:r.ParticlesTreeWorld,ParticlesWalkerWorld:o.ParticlesWalkerWorld};window.Natural2D=a},{"./Engine/Core/AnimationBox":1,"./Gallery/ParticlesTreeWorld":20,"./Gallery/ParticlesWalkerWorld":21}]},{},[22]);